class Logtrics{eventProperties={};detectBrowserName(e){return-1<e.indexOf("Chrome")?"Chrome":-1<e.indexOf("MSIE")||-1<e.indexOf("rv:")?"Internet Explorer":-1<e.indexOf("Firefox")?"Firefox":-1<e.indexOf("Safari")?"Safari":"Others"}getBrowserDetails(){let e={};var t=navigator.userAgent;return e.userAgent=t,e.browserName=this.detectBrowserName(t),e}isInitialized(){return"true"===window.localStorage.getItem("$isInitialized")}initialize(e){this.isInitialized()||(window.localStorage.setItem("$isInitialized","true"),window.localStorage.setItem("$siteId",e&&e.siteId))}getUserContext(){let e={};return e.title=window.document.title,e.host=window.location.hostname,e.url=window.location.href,e.location=window.location,e}getEmail(){return window.localStorage.getItem("$email")?window.localStorage.getItem("$email"):"Anonymous"}identifyUser(e){window.localStorage.setItem("$user",JSON.stringify(e)),window.localStorage.setItem("$email",e&&e.email)}setEventTimeStamp(){this.eventProperties.$timestamp=new Date}trackEvent(e,t){this.setEventTimeStamp(),this.eventProperties.$email=this.getEmail(),this.eventProperties.$browser=this.getBrowserDetails(),this.eventProperties.$name=e,this.eventProperties.$customEventProperties=t,this.eventProperties.$context=this.getUserContext(),console.log(this.eventProperties)}initialize(e){this.initialize(e)}identifyUser(e){this.isInitialized()?this.identifyUser(e):console.log("Logitrics is not initialized yet.")}}window.logitrics=new Logtrics;
